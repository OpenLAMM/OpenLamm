{"version":3,"file":"injectDevTools.cjs.js","sources":["../../../../packages/core/src/devtools/injectDevTools.ts"],"sourcesContent":["import { SEQUENCE_PREFIX } from '../constants';\nimport { getDebugTree } from './getDebugTree';\n\nexport function injectDevTools(document: Document) {\n  const window = document.defaultView;\n  if (!window || window.__GRIFFEL_DEVTOOLS__) {\n    return;\n  }\n\n  const devtools: typeof window['__GRIFFEL_DEVTOOLS__'] = {\n    getInfo: (element: HTMLElement) => {\n      const rootDebugSequenceHash = Array.from(element.classList).find(className =>\n        className.startsWith(SEQUENCE_PREFIX),\n      );\n      if (rootDebugSequenceHash === undefined) {\n        return undefined;\n      }\n\n      return getDebugTree(rootDebugSequenceHash);\n    },\n  };\n\n  Object.defineProperty(window, '__GRIFFEL_DEVTOOLS__', {\n    configurable: false,\n    enumerable: false,\n    get() {\n      return devtools;\n    },\n  });\n}\n"],"names":["injectDevTools","document","window","defaultView","__GRIFFEL_DEVTOOLS__","devtools","getInfo","element","rootDebugSequenceHash","Array","from","classList","find","className","startsWith","SEQUENCE_PREFIX","undefined","getDebugTree","Object","defineProperty","configurable","enumerable","get"],"mappings":";;;;;AAGM,SAAUA,cAAcA,CAACC,QAAkB,EAAA;AAC/C,EAAA,MAAMC,MAAM,GAAGD,QAAQ,CAACE,WAAW,CAAA;AACnC,EAAA,IAAI,CAACD,MAAM,IAAIA,MAAM,CAACE,oBAAoB,EAAE;AAC1C,IAAA,OAAA;AACF,GAAA;AAEA,EAAA,MAAMC,QAAQ,GAA0C;IACtDC,OAAO,EAAGC,OAAoB,IAAI;MAChC,MAAMC,qBAAqB,GAAGC,KAAK,CAACC,IAAI,CAACH,OAAO,CAACI,SAAS,CAAC,CAACC,IAAI,CAACC,SAAS,IACxEA,SAAS,CAACC,UAAU,CAACC,yBAAe,CAAC,CACtC,CAAA;MACD,IAAIP,qBAAqB,KAAKQ,SAAS,EAAE;AACvC,QAAA,OAAOA,SAAS,CAAA;AAClB,OAAA;MAEA,OAAOC,yBAAY,CAACT,qBAAqB,CAAC,CAAA;AAC5C,KAAA;GACD,CAAA;AAEDU,EAAAA,MAAM,CAACC,cAAc,CAACjB,MAAM,EAAE,sBAAsB,EAAE;AACpDkB,IAAAA,YAAY,EAAE,KAAK;AACnBC,IAAAA,UAAU,EAAE,KAAK;AACjBC,IAAAA,GAAGA,GAAA;AACD,MAAA,OAAOjB,QAAQ,CAAA;AACjB,KAAA;AACD,GAAA,CAAC,CAAA;AACJ;;;;"}