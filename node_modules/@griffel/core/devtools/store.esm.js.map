{"version":3,"file":"store.esm.js","sources":["../../../../packages/core/src/devtools/store.ts"],"sourcesContent":["import type { SequenceHash } from '../types';\nimport { SEQUENCE_PREFIX, SEQUENCE_SIZE } from '../constants';\nimport { mergeClassesCachedResults } from '../mergeClasses';\n\nconst sequenceDetails: Record<SequenceHash, { slotName: string; sourceURL?: string }> = {};\n\nconst cssRules = new Set<string>();\n\nexport const debugData = {\n  getChildrenSequences: (debugSequenceHash: SequenceHash): SequenceHash[] => {\n    const key = Object.keys(mergeClassesCachedResults).find(key =>\n      mergeClassesCachedResults[key].startsWith(debugSequenceHash),\n    );\n\n    if (key) {\n      // key of the mergeClasses cache contains merge order\n      return key\n        .split(SEQUENCE_PREFIX)\n        .filter(sequence => sequence.length)\n        .map(sequence => SEQUENCE_PREFIX + sequence);\n    }\n\n    return [];\n  },\n\n  addCSSRule: (rule: string) => {\n    cssRules.add(rule);\n  },\n  addSequenceDetails: <Slots extends string | number>(\n    classNamesForSlots: Record<Slots, string>,\n    sourceURL?: string,\n  ) => {\n    Object.entries<string>(classNamesForSlots).forEach(([slotName, sequenceHash]) => {\n      sequenceDetails[sequenceHash.substring(0, SEQUENCE_SIZE)] = { slotName, sourceURL };\n    });\n  },\n\n  getCSSRules: (): string[] => {\n    return Array.from(cssRules);\n  },\n  getSequenceDetails: (sequenceHash: SequenceHash): typeof sequenceDetails[string] | undefined => {\n    return sequenceDetails[sequenceHash];\n  },\n};\n"],"names":["sequenceDetails","cssRules","Set","debugData","getChildrenSequences","debugSequenceHash","key","Object","keys","mergeClassesCachedResults","find","startsWith","split","SEQUENCE_PREFIX","filter","sequence","length","map","addCSSRule","rule","add","addSequenceDetails","classNamesForSlots","sourceURL","entries","forEach","slotName","sequenceHash","substring","SEQUENCE_SIZE","getCSSRules","Array","from","getSequenceDetails"],"mappings":";;;AAIA,MAAMA,eAAe,GAAmE,EAAE,CAAA;AAE1F,MAAMC,QAAQ,gBAAG,IAAIC,GAAG,EAAU,CAAA;AAE3B,MAAMC,SAAS,GAAG;EACvBC,oBAAoB,EAAGC,iBAA+B,IAAoB;IACxE,MAAMC,GAAG,GAAGC,MAAM,CAACC,IAAI,CAACC,yBAAyB,CAAC,CAACC,IAAI,CAACJ,GAAG,IACzDG,yBAAyB,CAACH,GAAG,CAAC,CAACK,UAAU,CAACN,iBAAiB,CAAC,CAC7D,CAAA;AAED,IAAA,IAAIC,GAAG,EAAE;AACP;MACA,OAAOA,GAAG,CACPM,KAAK,CAACC,eAAe,CAAC,CACtBC,MAAM,CAACC,QAAQ,IAAIA,QAAQ,CAACC,MAAM,CAAC,CACnCC,GAAG,CAACF,QAAQ,IAAIF,eAAe,GAAGE,QAAQ,CAAC,CAAA;AAChD,KAAA;AAEA,IAAA,OAAO,EAAE,CAAA;GACV;EAEDG,UAAU,EAAGC,IAAY,IAAI;AAC3BlB,IAAAA,QAAQ,CAACmB,GAAG,CAACD,IAAI,CAAC,CAAA;GACnB;AACDE,EAAAA,kBAAkB,EAAEA,CAClBC,kBAAyC,EACzCC,SAAkB,KAChB;AACFhB,IAAAA,MAAM,CAACiB,OAAO,CAASF,kBAAkB,CAAC,CAACG,OAAO,CAAC,CAAC,CAACC,QAAQ,EAAEC,YAAY,CAAC,KAAI;MAC9E3B,eAAe,CAAC2B,YAAY,CAACC,SAAS,CAAC,CAAC,EAAEC,aAAa,CAAC,CAAC,GAAG;QAAEH,QAAQ;AAAEH,QAAAA,SAAAA;OAAW,CAAA;AACrF,KAAC,CAAC,CAAA;GACH;EAEDO,WAAW,EAAEA,MAAe;AAC1B,IAAA,OAAOC,KAAK,CAACC,IAAI,CAAC/B,QAAQ,CAAC,CAAA;GAC5B;EACDgC,kBAAkB,EAAGN,YAA0B,IAAgD;IAC7F,OAAO3B,eAAe,CAAC2B,YAAY,CAAC,CAAA;AACtC,GAAA;;;;;"}